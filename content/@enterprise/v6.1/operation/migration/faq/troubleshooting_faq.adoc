---
title: "故障排查"
description: 本小节主要介绍常见的故障排查方法。
weight: 3
---


== V2V 服务所在宿主节点出现断电现象

*影响*：

. 正在进行的迁移业务全部中断；
. 迁移进度无法再次更新;
. 恢复供电后，若重启 V2V 服务，之前所有未完成的迁移项会全部置为失败。

*建议措施*：

. 恢复供电后，重启 V2V 服务；
. 失败的迁移项执行重试操作。

== V2V 服务所在宿主节点负载过高

*影响*：

被迁移的主机的不会被调度到当前节点但正在该节点上进行迁移到主机有可能失败。

*建议措施*:

. 创建迁移任务时，尽量不要选择当前负载过高的宿主节点做为目标迁移节点；
. 失败的任务状态更新之后在迁移前台进行重试操作。

== V2V 服务与 zookeeper 失联

*影响*：

创建迁移任务页面无法发现已经注册的 V2V 服务节点即宿主节点。

*建议措施*:

创建迁移任务时，暂时不要选择具体的宿主节点进行迁移，让系统进行自动调度。

== 源虚拟机镜像太大，检查镜像时占用过高内存

*影响*：

潜在对现有的业务产生影响的风险。

*建议措施*:

太大的镜像，建议迁移前拆分为多个硬盘后再迁移。

== 上传镜像模式需要使用 nfs 的 client 引发调用底层库时引发程序奔溃

*影响*：

引发 V2V 服务崩溃。

*建议措施*:

规范的排列远端 nfs 目录。

== 和 VMware 平台通讯异常

*影响*：

无法导出镜像执行迁移。

*建议措施*:

采用镜像上传模式执行迁移。

