---
title: "管理备份"
description: 介绍如何进行集群备份管理操作。
weight: 50
draft: false
---

为确保集群数据的可靠性，AppCenter 为各应用提供了集群备份与恢复功能。在应用集群控制台创建备份后，您可以通过**备份管理**统一查看和管理您的集群备份。

== 备份简介

* *快照备份*：基于快照技术获取指定数据集合的一个完全拷贝。
* *逻辑备份*：基于数据库对象（表、索引、存储过程等）的备份，备份级别可控，适用于数据量不大的数据库。
+

include::../../../../../_components/note.adoc[]
逻辑备份存储在对象存储桶中，故需要集群支持启用对象存储。

include::../../../../../_components/table_footer.adoc[]

* *共享备份*：备份管理支持将备份链共享给其他用户。您可以备份链共享给其他用户，也可以查看到其他用户共享给您的备份链。

== 查看备份

. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
+
image::/images/cloud_service/appcenter/um_bak_list.png[]

. 查看备份资源。
+

include::../../../../../_components/note.adoc[]
备份链 ID 后的星号标记，表示该备份链为集群当前最新的备份链，可以基于该备份链创建增量备份。

include::../../../../../_components/table_footer.adoc[]

+
* 在**快照备份**页签，查看已创建的集群快照备份。
* 在**逻辑备份**页签，查看已创建的集群逻辑备份。
* 在**共享备份**页签，查看他人共享给您的备份。

. 点击备份链 ID，进入备份详情页面，查看备份详情。
+
image::/images/cloud_service/appcenter/um_bak_detail.png[]

+
* 在**基本属性**区域，可查看当前备份链基本信息。
* 在备份链结构示意图区域，可查看到当前备份链包含几次备份，以及每次备份的时间、大小、名称。
* 在**共享列表**区域，可查看当前备份链已共享给哪些账户。
* 在**租赁信息**区域，可查看当前备份链的计费信息。
+

include::../../../../../_components/note.adoc[]
* 逻辑备份不支持共享。
* 逻辑备份使用对象存储进行存储，不支持查看租赁信息，其计费说明请参考对象存储计费。

include::../../../../../_components/table_footer.adoc[]

== 从备份创建集群

快照备份、逻辑备份及共享备份均支持通过备份创建集群。

. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
. 在备份列表，找到需要进行恢复的备份链资源。
. 右键点击备份链，选择**从备份创建集群**。
+
image::/images/cloud_service/appcenter/um_bak_restore.png[]
+
从备份链创建集群默认从最新备份点创建，若您需要从备份链中的某个备份点创建集群，则点击备份链 ID，在备份链结构图中，点击备份点后面的操作图标，选择**从备份创建集群**。
+
image::/images/cloud_service/appcenter/um_bak_restore_2.png[]

. 配置集群信息及参数，点击**提交**进行创建。

== 跨区域复制备份

支持将集群备份跨区域复制。某一区域的实例故障后，可跨区域使用备份文件恢复到新的集群。

include::../../../../../_components/note.adoc[]
仅快照备份支持跨区域复制。

include::../../../../../_components/table_footer.adoc[]

. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
. 在备份列表，找到需要进行恢复的备份链资源。
. 右键点击备份链，选择**跨区域复制备份**。
+
image::/images/cloud_service/appcenter/um_bak_copy.png[]
. 选择目标区域，点击**提交**，创建复制任务。
+
在控制台**运维与管理** > **操作日志** > **全局操作日志**页面，可查看备份复制进度。

== 共享备份

支持将备份链共享给其他用户。

include::../../../../../_components/note.adoc[]
* 仅支持共享快照备份的备份链。
* 仅共享当前备份主链，增量备份链不增量共享。
* 仅可分享给已注册用户。

include::../../../../../_components/table_footer.adoc[]

* *开启共享备份*
+
共享备份后，其他用户可在共享备份列表，根据备份链创建集群。

+
. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
. 在快照备份列表，找到需要共享备份链资源。
. 右键点击备份链，选择**共享备份**。
+
image::/images/cloud_service/appcenter/um_bak_share_1.png[]

. 填写需要共享的用户 ID 或注册邮箱地址，点击**提交**。

* *取消共享备份*
+
您可以随时取消已共享的备份，取消后，将会立即收回该备份的使用权限。

. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
. 在快照备份列表，找到需要取消的备份链资源。
. 右键点击备份链，选择**取消共享备份**。
+
image::/images/cloud_service/appcenter/um_bak_share_2.png[]
. 勾选需要取消共享的用户，点击**提交**。
+
取消共享后，集群备份使用权限立即被收回。被共享的用户在**共享备份**列表下不再呈现该备份信息。

== 删除备份

手动创建的备份将永久存储。若备份链接已过期或不再需要，可删除备份链或备份节点，以节省资源并保留充足的备份份额。

include::../../../../../_components/attention.adoc[]
* 删除备份链将删除备份链上全部备份点，请谨慎操作。
* 备份删除后可在回收站暂存两小时，超过两小时将被彻底删除。
* 删除增量备份点时，其所有子节点也会被删除，且不可恢复。

include::../../../../../_components/table_footer.adoc[]


. 登录管理控制台。
. 选择**产品与服务**> *AppCenter 控制台*  > *备份管理*，进入**备份管理**页面。
. 在快照备份列表，根据需要进行如下操作：
+
* 删除单个备份链：找到需要删除的备份链，右键点击备份链，选择**删除**。
+
image::/images/cloud_service/appcenter/um_bak_delete.png[]
* 批量删除备份链：勾选多个需要删除的备份链，点击**更多操作** > **删除**。
* 删除增量备份点：点击备份链 ID，在备份链结构图中，点击备份点后面的操作图标，选择**删除**。
+
image::/images/cloud_service/appcenter/um_bak_delete_2.png[]
. 在提示框中，点击**确认**。