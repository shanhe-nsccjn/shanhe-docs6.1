---
title: "创建集群"
description: 本小节主要介绍如何快速创建 ClickHouse 集群实例。
keywords: ClickHouse 实例, 创建集群,创建实例,数据仓库,ClickHouse
weight: 10
collapsible: false
draft: false
---
通过 AppCenter 集群管理控制台，您可以快速创建 ClickHouse 集群。本小节主要介绍如何快速创建 ClickHouse 集群。

== 前提条件

* 已获取管理控制台登录账号和密码，且账号已实名认证。
* 已获取  ClickHouse 集群列表操作权限。

== 操作步骤

. 登录管理控制台。
. 选择**产品与服务** > *数据仓库与 BI* > *ClickHouse*，进入 ClickHouse 集群列表页。
. 点击**立即部署**，进入应用部署页面。
. 选择**区域**。
+
根据就近原则，选择实例所在区域。

. 配置实例基本属性、应用版本、网络信息、环境参数等信息。
+
a. <<_基本设置>>
+
b. <<_节点设置>>
+
c. <<_网络设置>>
+
d. <<_服务环境参数设置>>
+
e. <<_用户协议>>

. 确认配置和费用信息无误后，点击**提交**，创建集群。
+
集群创建成功后，可在**集群管理**页面，查看和管理 ClickHouse 集群。
+
image::/images/cloud_service/dwh_bi/clickhouse/cluster_list.png[集群列表]

=== 基本设置

集群名称、网络、版本、计费方式等基本信息配置。

|===
| 参数 | 参数说明

| UUID
| 系统默认分配的全局唯一标识码，不可修改。

| 名称
| （可选）输入当前集群的名称。

默认为``ClickHouse``。

| 描述
| （可选）对集群的简要描述。

| 系列
| 选择集群系列，可选择``基础版``、`企业版`。

| 版本
| 选择集群版本，根据所选系列不同，可选版本不同。

| 计费方式
| 选择集群计费方式，可选择按**小时**、*月*、**年**计费。

| 自动备份时间
| 选择自动备份时间，可选择在每天指定时间段创建备份。默认自动备份为``关闭``。

| 可用区
| 选择区域内可用区。
|===

image::/images/cloud_service/dwh_bi/clickhouse/base_step_1.png[基本参数配置]

=== 节点设置

集群节点的资源配置，包括云服务器规格、磁盘大小等。

|===
| 参数 | 参数说明

| 规格
| 选择集群节点云服务器规格。

| 数量
| 设置集群节点数量，集群节点越多，则集群的性能越高。

设置范围1～100，默认为1个。

| 磁盘类型
a| 选择数据盘类型。

* ``基础版`` 磁盘类型可选择``基础型``。
* ``企业版`` 磁盘类型可选择 ``SSD 企业级``和``企业级分布式 SAN (NeonSAN)``。

| 磁盘大小
| 配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。最小可选 10GB。
|===

image::/images/cloud_service/dwh_bi/clickhouse/base_step_2.png[节点设置]

=== 网络设置

通过为集群设置独享私有网络，便于网络**过滤控制**，且不影响其它私有网络的设置，可确保数据库的对不同业务进行网络隔离。数据库集群仅可加入已连接路由器的私有网络，且需确保私有网络的 DHCP 处于**打开**状态。

|===
| 参数 | 参数说明

| 私有网络
a| 选择私有网络。

* 默认适配同区域已有私有网络。可在下拉框选择已有私有网络。
* 若无可选网络，可点击**创建**，创建依赖网络资源。

| 节点 IP
a| 配置节点 IP 地址。

* 默认为``自动分配``。
* 选择``手动配置``需为各节点配置 IP。

| 预留 IP
a| 配置集群预留 IP 地址。

* 默认为``自动分配``。
* 选择``手动配置``需为集群配置高可用 IP。
|===

image::/images/cloud_service/dwh_bi/clickhouse/base_step_3.png[网络设置]

=== 服务环境参数设置

数据库的环境参数配置。必须创建初始的数据库、用户名账号和密码，可选择设置数据库服务的其他配置参数。

|===
| 参数 | 参数说明

| 用户名
a| 输入数据库初始用户账号名。

* 默认为 `default`。
* 命名规则：不能以数字开头；可由大写字母（A～Z）、小写字母（a～z）、数字（0～9）和特殊字符（_）组成。

| 密码
a| 输入数据库初始用户账号密码。

* 密码规则：不支持以数字开头；可包含大写字母（A～Z）、小写字母（a～z）、数字（0～9）和特殊字符（_）。

| 副本数量
| 输入集群副本数量。范围为1～3，默认为1个。

| HTTP 端口
a| 输入集群 HTTP 端口号。

* 默认为8123。
* 范围为0～65535。

| 允许访问网络列表
a| 输入允许访问网络 IP。

* 多组访问 IP 间用分号（;）隔开。
* 默认为``::/0``，表示允许所有网络访问。
|===

image::/images/cloud_service/dwh_bi/clickhouse/base_step_4.png[参数设置]

=== 用户协议

阅读**云平台 AppCenter 用户协议**，并勾选用户协议。

image::/images/cloud_service/dwh_bi/clickhouse/base_step_5.png[用户协议]
