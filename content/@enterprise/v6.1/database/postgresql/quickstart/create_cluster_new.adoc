---
title: "创建集群（PG V2.0.0 及以上）"
description: 本小节主要介绍如何快速创建 PostgreSQL 集群实例。
keywords: 实例,创建集群,创建实例,PostgreSQL,关系型数据库,数据库
weight: 05
collapsible: false
draft: false
---
通过 AppCenter 集群管理控制台，您可以快速创建 PostgreSQL 集群。

本小节主要介绍如何快速创建PG V2.0.0 及以上版本的 PostgreSQL 的集群。

== 前提条件

* 已获取管理工作台登录账号和密码，且账号已实名认证。
* 已获取PostgreSQL V2.0.0 及以上版本环境。
* 已获取 PostgreSQL 集群操作权限。

== 操作步骤

. 登录管理工作台。
. 选择**产品与服务** > *数据库与缓存* > *关系型数据库 PostgreSQL*，进入 PostgreSQL 集群管理页面。
. 点击**立即部署**，进入应用部署页面。
. 选择**区域**。
根据就近原则，选择实例所在区域。
. 配置实例基本属性、应用版本、网络信息、环境参数等信息。
 .. <<_基本设置,基本设置>>
 .. （可选）节点设置，包括<<_主实例设置自定义,主实例设置>>、<<_只读实例设置自定义,只读实例设置>>
 .. <<_网络设置,网络设置>>
 .. <<_服务环境参数设置,服务环境参数设置>>

. 点击**校验表单参数**，检查配置参数是否填写正确。
. 确认配置和费用信息无误后，点击**提交**，创建集群。
+
集群创建成功后，可在**集群管理**页面，查看和管理 PostgreSQL 集群。
+
image::/images/cloud_service/database/postgresql/cluster1.png[集群列表]

=== 基本设置

集群名称、网络、版本、计费方式等基本信息配置。

云服务器类型默认为 ``e3``云服务器，若系统内没有 ``e3`` 云服务器，或默认选择其他支持的云服务器，不支持选择与修改。

[cols="1,4"]
|===
| 参数 | 参数说明

| UUID
| 系统默认分配的全局唯一标识码，不可修改。

| 集群名称
| （可选）输入当前集群的名称。 +
默认为``QingCloud PostgreSQL``，可修改。

| 描述
| （可选）对集群的简要描述。

| 版本
| 选择集群版本。

| 内核
| 选择数据库内核版本。

| 计费方式
| 选择集群计费方式，可选择按**小时**、**包年包月**计费。

| 购买有效期
| 计费方式选择``包年包月``显示此项，支持选择：1个月、3个月、6个月、1年、2年、3年、4年、五年

| 自动续约
| 计费方式选择``包年包月``显示此项，若未勾选此项，设备到期后转为按小时计费。

| 自动备份时间
| 选择自动备份时间，可选择在每天指定时间段创建备份。 +
默认自动备份为``关闭``。

| 可用区
| 选择区域内可用区。
|===

image::/images/cloud_service/database/postgresql/base_step_new_1.png[基本设置]

=== 主实例设置（自定义）

集群主实例的资源配置，包括云服务器规格、磁盘大小等。

[cols="1,4"]
|===
| 参数 | 参数说明

| 规格
| 选择集群节点云服务器 CPU 规格。

| 数量
| 选择主实例节点数量。基础版仅支持一个主实例，高可用版可支持2~3个主实例。

| 存储类型
| 选择集群节点存储类型。可选择``企业型 SSD 本地盘``、``通用型 SSD 云盘``和``增强型 SSD 云盘``。 +
不同类型存储支持的磁盘大小上限不同。

| 磁盘大小
| 配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。 +
最小可配置为 100GB。
|===

image::/images/cloud_service/database/postgresql/base_step_new_2.png[主实例节点设置]

=== 只读实例设置（自定义）

集群只读实例的资源配置，包括云服务器规格、磁盘大小等。

[cols="1,4"]
|===
| 参数 | 参数说明

| 规格
| 选择集群节点云服务器 CPU 规格。

| 数量
| 选择节点数量。 +
默认为0，基础版无只读实例节点，高可用版最多可选择 5 个只读实例节点。

| 类型存储
| 选择集群存储类型。可选择``企业型 SSD 本地盘``、``通用型 SSD 云盘``和``增强型 SSD 云盘``。 +
不同类型存储支持的磁盘大小上限不同。

| 磁盘大小
| 配置集群数据和日志存储磁盘大小。磁盘大小决定了数据库最大容量以及 IOPS 能力，请根据业务量，可滑动设置或输入数字配置集群磁盘大小。 +
最小可配置为 100GB。
|===

image::/images/cloud_service/database/postgresql/base_step_new_3.png[节点设置]

=== 网络设置

通过为集群设置独享私有网络，便于网络**过滤控制**，且不影响其它私有网络的设置，可确保数据库的对不同业务进行网络隔离。数据库集群仅可加入已连接路由器的私有网络，且需确保私有网络的 DHCP 处于**打开**状态。

出于安全考虑，所有的集群都需要部署在私有网络中，选择已创建的网络。

[cols="1,4"]
|===
| 参数 | 参数说明

| VPC网络
 a| 选择VPC网络

* 默认适配同区域已有 VPC 网络。可在下拉框选择已有 VPC 网络。
* 若无可选网络，可点击**新建 VPC 网络**，创建依赖网络资源。

| 私有网络
 a| 选择私有网络。

* 默认适配同区域已有私有网络。可在下拉框选择已有私有网络。
* 若无可选网络，可点击**新建私有网络**，创建依赖网络资源。


| 节点 IP
 a| 配置节点 IP。

* 默认为``自动分配``。
* 选择``手动配置``需为各节点配置 IP。


| 集群 IP
 a| 配置集群预留高可用 IP 地址。

* 默认为``自动分配``。
* 选择``手动配置``需为集群配置高可用写 IP、高可用读 IP。
|===

image::/images/cloud_service/database/postgresql/base_step_new_5.png[网络设置]

=== 服务环境参数设置

数据库的环境参数配置，也可在创建集群后，在集群**配置参数**页面修改，详细说明请参见link:../../manual_new/config_para/config_pare_info_new/[参数介绍]和link:../../manual_new/config_para/modify_para/[修改配置参数]。

image::/images/cloud_service/database/postgresql/base_step_new_6.png[参数设置]
