---
title: 版本升级
description: 当 Kafka 发布新版本后，系统将自动检测到有版本待升级。目前仅支持离线升级，升级前需要关闭集群，业务将被中断，请在业务低峰期进行升级操作。
keywords: 云计算,大数据,消息队列,中间件,Kafka,升级
weight: 21
draft: false
---

当 Kafka 发布新版本后，系统将自动检测到有版本待升级。目前仅支持离线升级，升级前需要关闭集群，业务将被中断，请在业务低峰期进行升级操作。

== 注意事项

* Kafka Manager 安装在 Client 节点，升级会重建 Client 节点，所以升级前需要备份如下信息：

** 请备份 Client 节点的数据和配置信息。
** 若 Kafka Manager 里有手工添加的 Cluster 信息，升级前也请备份。

* 升级到 Kafka 3.1.0 - v3.0.0 版本前，请先升级 ZooKeeper 到 ZooKeeper 3.6.3 - v2.1.0 版本。

== 前提条件

* 已获取管理控制台登录账号和密码，且已获取 Kafka 集群操作权限。
* 待升级的 Kafka 集群状态为**关闭**。

== 操作步骤

. 登录管理控制台。
. 选择**产品与服务** > *消息队列与中间件* > *Kafka 服务*，进入 Kafka 集群列表页面。
. 点击目标集群 ID，进入集群详情页面。
. 在**基本属性**模块，点击集群操作下拉菜单。
. 展开下拉菜单，点击**升级**。
+
image::/images/cloud_service/middware/kafka/cluster_upgrade.png[]

. 选择升级版本。
. 点击**升级**，返回节点列表页面。
+
升级完成后，集群会自动启动，集群状态切换为``活跃``。
